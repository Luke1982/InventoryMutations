<?xml version='1.0'?>
<module>
	<name>InventoryMutations</name>
	<label>InventoryMutations</label>
	<parent>Inventory</parent>
	<version>0.1</version>
	<short_description>Module that keeps track of mutations on InventoryDetails records</short_description>
	<dependencies>
		<vtiger_version>7.0.0</vtiger_version>
		<vtiger_max_version>7.*</vtiger_max_version>
	</dependencies>
	<license>
		<inline><![CDATA[
			********************************************************************************
			* Copyright 2018 MajorLabel -- This file is a part of coreBOS CRM.
			* Licensed under the vtiger CRM Public License Version 1.1 (the "License"); you may not use this
			* file except in compliance with the License. You can redistribute it and/or modify it
			* under the terms of the License. MajorLabel reserves all rights not expressly
			* granted by the License. coreBOS distributed by JPL TSolucio S.L. is distributed in
			* the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
			* warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. Unless required by
			* applicable law or agreed to in writing, software distributed under the License is
			* distributed on an "AS IS" BASIS, WITHOUT ANY WARRANTIES OR CONDITIONS OF ANY KIND,
			* either express or implied. See the License for the specific language governing
			* permissions and limitations under the License. You may obtain a copy of the License
			* at <http://corebos.org/documentation/doku.php?id=en:devel:vpl11>
			********************************************************************************
			*  Module       : coreBOS InventoryExtras
			*  Version      : 0.1
			*  Author       : MajorLabel
			********************************************************************************]]>
		</inline>
	</license>
	<tables>
		<table>
			<name>vtiger_inventorymutations</name>
			<sql><![CDATA[CREATE TABLE `vtiger_inventorymutations` (
				`inventorymutationsid` int(11) NOT NULL,
				`inventorymutations_no` varchar(56) default NULL,
				`inventorydetails_id` INT(11) DEFAULT NULL,
				`quantity_before` DECIMAL(28,6) DEFAULT NULL,
				`quantity_after` DECIMAL(28,6) DEFAULT NULL,
				`quantity_mutated` DECIMAL(28,6) DEFAULT NULL,
				`units_delrec_before` DECIMAL(28,6) DEFAULT NULL,
				`units_delrec_after` DECIMAL(28,6) DEFAULT NULL,
				`units_delrec_mutated` DECIMAL(28,6) DEFAULT NULL,
				`source_id` INT(11) DEFAULT NULL, 
				`product_id` INT(11) DEFAULT NULL, 
				PRIMARY KEY (`inventorymutationsid`)
				) ENGINE=InnoDB DEFAULT CHARSET=utf8]]></sql>
			</table>
			<table>
				<name>vtiger_inventorymutationscf</name>
				<sql><![CDATA[CREATE TABLE `vtiger_inventorymutationscf` (
					`inventorymutationsid` int(11) NOT NULL,
					PRIMARY KEY (`inventorymutationsid`)
					) ENGINE=InnoDB DEFAULT CHARSET=utf8]]></sql>
				</table>
			</tables>
			<blocks>
				<block>
					<label>LBL_INVENT_MUT_INFORMATION</label>
					<fields>
						<field>
							<fieldname>inventorymutations_no</fieldname>
							<uitype>4</uitype>
							<columnname>inventorymutations_no</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>inventorymutations_no</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>1</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>V~M</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>1</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
							<entityidentifier>
								<entityidfield>inventorymutationsid</entityidfield>
								<entityidcolumn>inventorymutationsid</entityidcolumn>
							</entityidentifier>
						</field>
						<field>
							<fieldname>inventorydetails_id</fieldname>
							<uitype>10</uitype>
							<columnname>inventorydetails_id</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>inventorydetails_id</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>2</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>V~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
							<relatedmodules>
								<relatedmodule>InventoryDetails</relatedmodule>
							</relatedmodules>
						</field>
						<field>
							<fieldname>quantity_before</fieldname>
							<uitype>7</uitype>
							<columnname>quantity_before</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>quantity_before</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>3</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>N~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
						<field>
							<fieldname>quantity_after</fieldname>
							<uitype>7</uitype>
							<columnname>quantity_after</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>quantity_after</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>4</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>N~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
						<field>
							<fieldname>quantity_mutated</fieldname>
							<uitype>7</uitype>
							<columnname>quantity_mutated</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>quantity_mutated</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>5</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>NN~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
						<field>
							<fieldname>units_delrec_before</fieldname>
							<uitype>7</uitype>
							<columnname>units_delrec_before</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>units_delrec_before</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>6</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>N~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
						<field>
							<fieldname>units_delrec_after</fieldname>
							<uitype>7</uitype>
							<columnname>units_delrec_after</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>units_delrec_after</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>7</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>N~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
						<field>
							<fieldname>units_delrec_mutated</fieldname>
							<uitype>7</uitype>
							<columnname>units_delrec_mutated</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>units_delrec_mutated</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>8</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>NN~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
						<field>
							<fieldname>source_id</fieldname>
							<uitype>10</uitype>
							<columnname>source_id</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>source_id</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>9</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>N~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
							<relatedmodules>
								<relatedmodule>SalesOrder</relatedmodule>
								<relatedmodule>Invoice</relatedmodule>
								<relatedmodule>PurchaseOrder</relatedmodule>
							</relatedmodules>
						</field>
						<field>
							<fieldname>product_id</fieldname>
							<uitype>10</uitype>
							<columnname>product_id</columnname>
							<tablename>vtiger_inventorymutations</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>product_id</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>9</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>N~O</typeofdata>
							<quickcreate>0</quickcreate>
							<quickcreatesequence>0</quickcreatesequence>
							<displaytype>4</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
							<relatedmodules>
								<relatedmodule>Products</relatedmodule>
							</relatedmodules>
						</field>
						<field>
							<fieldname>assigned_user_id</fieldname>
							<uitype>53</uitype>
							<columnname>smownerid</columnname>
							<tablename>vtiger_crmentity</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>Assigned To</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>10</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>V~M</typeofdata>
							<quickcreate>1</quickcreate>
							<quickcreatesequence>1</quickcreatesequence>
							<displaytype>1</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>1</masseditable>
						</field>
						<field>
							<fieldname>created_user_id</fieldname>
							<uitype>52</uitype>
							<columnname>smcreatorid</columnname>
							<tablename>vtiger_crmentity</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>Created By</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>11</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>V~O</typeofdata>
							<quickcreate>3</quickcreate>
							<quickcreatesequence>1</quickcreatesequence>
							<displaytype>2</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
						<field>
							<fieldname>createdtime</fieldname>
							<uitype>70</uitype>
							<columnname>createdtime</columnname>
							<tablename>vtiger_crmentity</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>Created Time</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>12</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>DT~O</typeofdata>
							<quickcreate>3</quickcreate>
							<quickcreatesequence>8</quickcreatesequence>
							<displaytype>2</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
						<field>
							<fieldname>modifiedtime</fieldname>
							<uitype>70</uitype>
							<columnname>modifiedtime</columnname>
							<tablename>vtiger_crmentity</tablename>
							<generatedtype>1</generatedtype>
							<fieldlabel>Modified Time</fieldlabel>
							<readonly>1</readonly>
							<presence>0</presence>
							<selected>0</selected>
							<sequence>13</sequence>
							<maximumlength>100</maximumlength>
							<typeofdata>DT~O</typeofdata>
							<quickcreate>3</quickcreate>
							<quickcreatesequence>9</quickcreatesequence>
							<displaytype>2</displaytype>
							<info_type>BAS</info_type>
							<helpinfo><![CDATA[]]></helpinfo>
							<masseditable>0</masseditable>
						</field>
					</fields>
				</block>
			</blocks>
			<customviews>
				<customview>
					<viewname>All</viewname>
					<setdefault>false</setdefault>
					<setmetrics>false</setmetrics>
					<fields>
						<field>
							<fieldname>inventorymutations_no</fieldname>
							<columnindex>0</columnindex>
						</field>
						<field>
							<fieldname>inventorydetails_id</fieldname>
							<columnindex>1</columnindex>
						</field>
						<field>
							<fieldname>quantity_before</fieldname>
							<columnindex>2</columnindex>
						</field>
						<field>
							<fieldname>quantity_after</fieldname>
							<columnindex>3</columnindex>
						</field>
						<field>
							<fieldname>quantity_mutated</fieldname>
							<columnindex>4</columnindex>
						</field>
						<field>
							<fieldname>source_id</fieldname>
							<columnindex>5</columnindex>
						</field>
					</fields>
				</customview>
			</customviews>
			<sharingaccess>
				<default>private</default>
			</sharingaccess>
			<actions>
				<action>
					<name><![CDATA[Merge]]></name>
					<status>enabled</status>
				</action>
				<action>
					<name><![CDATA[Import]]></name>
					<status>enabled</status>
				</action>
				<action>
					<name><![CDATA[Export]]></name>
					<status>enabled</status>
				</action>
			</actions>
			<relatedlists>
			</relatedlists>
			<events>
				<event>
					<eventname>vtiger.entity.aftersave</eventname>
					<classname>CreateInventoryMutation</classname>
					<filename>modules/InventoryMutations/handlers/CreateInventoryMutations.php</filename>
				</event>
			</events>
			<customlinks>
			</customlinks>
			<crons>
			</crons>
		</module>
